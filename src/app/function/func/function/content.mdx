
# 基础运算

## abs

### 含义 绝对值

```shader
fixed a = -0.5
fixed c = abs(a)
// 结果是0.5 对应灰色
```
### 图像

![abs](https://minio.fzcode.com/unity/abs.png)

### 实战用途

todo

## frac

### 含义 取小数部分

```shader
fixed a = 0.5
fixed c = frac(a)
// 结果是0.5 对应灰色
```

### 图像

![frac](https://minio.fzcode.com/unity/frac.png)

### 实战用途

由图像可知，当函数的导数为常量时，可以用此函数进行均匀循环渲染；若导数不为常量，则渲染规律与导数相关

## floor

### 含义 取整数部分

```shader
fixed a = 0.5
fixed c = floor(a)
// 结果是0 对应黑色
```

### 图像

![floor](https://minio.fzcode.com/unity/floor.png)

### 实战用途

若函数值范围为[0,正无穷]，则会将[0,1]部分全部渲染为黑色，而不是渐变

## ceil

### 含义 取整数部分

```shader
fixed a = 0.5
fixed c = ceil(a)
// 结果是1 对应白色
```

### 图像

![ceil](https://minio.fzcode.com/unity/ceil.png)

### 实战用途

若函数值范围为[0,正无穷]，则会将(0,1]部分全部渲染为白色，而不是渐变

## max

### 含义 取最大值

```shader
fixed a = 0.5
fixed b = 0.6
fixed c = max(a,b)
// 结果是0.6 对应白色
```

### 图像

没有图像

### 实战用途

当光照模型为线性函数时间，在最低处渲染为纯黑色，可能并不是想要的视觉效果，可以用max设置一个最低值，避免黑色

## min

### 含义 取最小值

```shader
fixed a = 0.5
fixed b = 0.6
fixed c = min(a,b)
// 结果是0.5 对应灰色
```

### 图像

没有图像

### 实战用途

当光照模型为线性函数时间，在最高处渲染为纯白色，可能并不是想要的视觉效果，可以用min设置一个最高值，避免过量


## pow

### 含义 幂运算

```shader
fixed a = 0.5
fixed b = 2
fixed c = pow(a,b)
// 结果是0.25 对应黑色
```

### 图像

![pow](https://minio.fzcode.com/unity/pow.png)

### 实战用途

例如高光

## rcp

### 含义 1/x

```shader
fixed a = 0.5
fixed c = rcp(a)
// 结果是2 对应白色
```

### 图像

![rcp](https://minio.fzcode.com/unity/rcp.png)

### 实战用途

todo

## exp

### 含义 e^x

```shader
fixed a = 0.5
fixed c = exp(a)
// 结果是1.6487213 对应白色
```

### 图像

![exp](https://minio.fzcode.com/unity/exp.png)

### 实战用途

todo


## exp2

### 含义 2^x

```shader
fixed a = 0.5
fixed c = exp2(a)
// 结果是1.6487213 对应白色
```

### 图像

![exp2](https://minio.fzcode.com/unity/exp2.png)

### 实战用途

todo


## fmod

### 含义 取余 同样支持%直接运算

```shader
fixed a = 0.5
fixed b = 2
fixed c = fmod(a,b)
// 结果是0.5 对应灰色
```

### 图像

没有图像

### 实战用途

todo


## saturate

### 含义 取值范围[0,1] 大于1就是1 小于0就是0

```shader
fixed a = 1.5
fixed c = saturate(a)
// 结果是1 对应白色
```

### 图像

没有图像

### 实战用途

todo


## clamp

### 含义 取值范围[min,max] 大于max就是max 小于min就是min

```shader
fixed a = 1.5
fixed b = 0.5
fixed c = clamp(a,b,1)
// 结果是1 对应白色
```

### 图像

没有图像

### 实战用途

todo


## sqrt

### 含义 开方

```shader
fixed a = 0.5
fixed c = sqrt(a)
// 结果是0.7071068 对应灰色
```

### 图像

![sqrt](https://minio.fzcode.com/unity/sqrt.png)

### 实战用途

todo


## rsqrt

### 含义 1/开方 （-0.5次幂）

```shader
fixed a = 0.5
fixed c = rsqrt(a)
// 结果是1.4142136 对应白色
```

### 图像

![rsqrt](https://minio.fzcode.com/unity/rsqrt.png)

### 实战用途

todo


## lerp

### 含义 线性插值 (A,B,Alpha) Alpha为0时返回A，Alpha为1时返回B,其他时候返回A + alpha*(B-A)


```shader
fixed a = 0.5
fixed b = 0.6
fixed c = lerp(a,b,0.5)
// 结果是0.55 对应灰色
```

### 图像

当A为0 B为1时，图像为

![rsqrt](https://minio.fzcode.com/unity/rsqrt.png)

### 实战用途

线性插值可以用作颜色过渡

```shader
fixed4 a = fixed4(1,0,0,1)
fixed4 b = fixed4(0,0,1,1)
fixed alpha = i.ux.x;
fixed4 c = lerp(a,b,alpha)
return c;
// 取得x坐标 ，从左到右是绿到红的渐变
```

## sin

### 含义 正弦

```shader
fixed a = 0.5
fixed c = sin(a)
// 结果是0.4794255 对应灰色
```

### 图像

![sin](https://minio.fzcode.com/unity/sin.png)

### 实战用途

一般和时间配合，做个扫描特效

## cos

### 含义 余弦

```shader
fixed a = 0.5
fixed c = cos(a)
// 结果是0.8775826 对应灰色
```

### 图像

![cos](https://minio.fzcode.com/unity/cos.png)

### 实战用途

一般和时间配合，做个扫描特效


## distance

### 含义 计算距离

```shader
fixed3 a = fixed3(0,0,0)
fixed3 b = fixed3(1,1,1)
fixed c = distance(a,b)
// 结果是1.7320508 对应灰色
```

### 图像

没有图像

### 实战用途

例如计算当前uv坐标和某点的距离


## length

### 含义 计算长度

```shader
fixed3 a = fixed3(1,1,1)
fixed c = length(a)
// 结果是1.7320508 对应灰色
```

### 图像

没有图像

### 实战用途

例如计算当前uv坐标和原点的距离,通过偏移当前坐标可以达到和distance一样的效果 例如return length(i.uv.xy-0.5) 这就是在中间画了一个线性渐变圆形


## step

### 含义 a\<b 返回1 否则返回0

```shader
fixed a = 0.5
fixed b = 0.6
fixed c = step(a,b)
// 结果是0 对应黑色
```

### 图像

没有图像

### 实战用途

例如return length(i.uv.xy-0.5) 这就是在中间画了一个线性渐变圆形，再用step套一下，就变成黑白分区的圆


## smoothstep

### 含义 (min,max,x) 如果x比min小，返回0，如果比max大。返回1，如果在在min和max之间，按照比例，返回一个(0,1)的值

```shader
fixed a = 2
fixed b = 6
fixed c = smoothstep(a,b,4)
// 结果是0.5 对应灰色
```

### 图像

```shader
float  t = saturare((x-min)/(max-min));
return t*t*(3.0-2.0*t);
```

max=1 min=0 时 图像为

![smoothstep](https://minio.fzcode.com/unity/smoothstep.png)

### 实战用途

在溶解等地方可以使用，但是复杂度过高，如果仅仅是平滑过渡saturare((x-min)/(max-min))就足够了
